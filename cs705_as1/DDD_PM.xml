<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE nta PUBLIC '-//Uppaal Team//DTD Flat System 1.6//EN' 'http://www.it.uu.se/research/group/darts/uppaal/flat-1_6.dtd'>
<nta>
	<declaration>// Place global declarations here.

// random atria and ventricle bounds
const int Vmaxwait = 1000;
const int Vminwait = 300;
const int Amaxwait = 1000;
const int Aminwait = 300;

bool URI_Flag = false;

// given timing constraints
const int TAEI = 800; // atrial escape period
const int TAVI = 150; // atrio ventricular interval 
const int TVRP = 150; // ventricular refract. period
const int TPVARP = 100; // post ventricular atrial refract. preiod
const int TURI = 400; // upper rate interval
const int TLRI = TAEI + TAVI; // lower arte interval

// URI clock
clock x_URI = 0;</declaration>
	<template>
		<name>RV</name>
		<parameter>broadcast chan &amp;VSense, broadcast chan &amp;VP</parameter>
		<declaration>clock x;</declaration>
		<location id="id0" x="0" y="-24">
			<name x="-10" y="-54">RV</name>
			<label kind="invariant" x="17" y="-34">x&lt;Vmaxwait</label>
		</location>
		<init ref="id0"/>
		<transition id="id1">
			<source ref="id0"/>
			<target ref="id0"/>
			<label kind="guard" x="-24" y="24">x&gt;Vminwait</label>
			<label kind="synchronisation" x="-24" y="40">VSense!</label>
			<label kind="assignment" x="-16" y="56">x=0</label>
			<nail x="-32" y="24"/>
			<nail x="32" y="24"/>
		</transition>
		<transition id="id2">
			<source ref="id0"/>
			<target ref="id0"/>
			<label kind="synchronisation" x="-16" y="-104">VP?</label>
			<label kind="assignment" x="-16" y="-88">x=0</label>
			<nail x="-32" y="-72"/>
			<nail x="40" y="-72"/>
		</transition>
	</template>
	<template>
		<name>RA</name>
		<parameter>broadcast chan &amp;ASense, broadcast chan &amp;AP</parameter>
		<declaration>clock x;</declaration>
		<location id="id3" x="-17" y="-25">
			<name x="-27" y="-55">RA</name>
			<label kind="invariant" x="0" y="-34">x&lt;Amaxwait</label>
		</location>
		<init ref="id3"/>
		<transition id="id4">
			<source ref="id3"/>
			<target ref="id3"/>
			<label kind="guard" x="-41" y="23">x&gt;Aminwait</label>
			<label kind="synchronisation" x="-41" y="39">ASense!</label>
			<label kind="assignment" x="-33" y="55">x=0</label>
			<nail x="-49" y="23"/>
			<nail x="15" y="23"/>
		</transition>
		<transition id="id5">
			<source ref="id3"/>
			<target ref="id3"/>
			<label kind="synchronisation" x="-33" y="-105">AP?</label>
			<label kind="assignment" x="-33" y="-89">x=0</label>
			<nail x="-49" y="-73"/>
			<nail x="23" y="-73"/>
		</transition>
	</template>
	<template>
		<name>LRI_Monitor</name>
		<parameter>broadcast chan &amp;VS, broadcast chan &amp;VP</parameter>
		<declaration>clock t;</declaration>
		<location id="id6" x="-229" y="-8">
			<name x="-246" y="8">Wait1</name>
		</location>
		<location id="id7" x="-93" y="-8">
			<name x="-110" y="8">Wait2</name>
		</location>
		<location id="id8" x="51" y="-8">
			<name x="17" y="8">VDetected</name>
			<committed/>
		</location>
		<init ref="id6"/>
		<transition id="id9">
			<source ref="id8"/>
			<target ref="id7"/>
			<label kind="assignment" x="-34" y="-93">t=0</label>
			<nail x="51" y="-76"/>
			<nail x="-93" y="-76"/>
		</transition>
		<transition id="id10">
			<source ref="id7"/>
			<target ref="id8"/>
			<label kind="synchronisation" x="-34" y="25">VP?</label>
			<nail x="-25" y="25"/>
		</transition>
		<transition id="id11">
			<source ref="id7"/>
			<target ref="id8"/>
			<label kind="synchronisation" x="-34" y="-59">VS?</label>
			<nail x="-25" y="-42"/>
		</transition>
		<transition id="id12">
			<source ref="id6"/>
			<target ref="id7"/>
			<label kind="synchronisation" x="-170" y="-76">VS?</label>
			<label kind="assignment" x="-170" y="-59">t=0</label>
			<nail x="-161" y="-42"/>
		</transition>
		<transition id="id13">
			<source ref="id6"/>
			<target ref="id7"/>
			<label kind="synchronisation" x="-170" y="25">VP?</label>
			<label kind="assignment" x="-170" y="42">t=0</label>
			<nail x="-161" y="25"/>
		</transition>
	</template>
	<template>
		<name>URI_Monitor</name>
		<parameter>broadcast chan &amp;VS, broadcast chan &amp;VP</parameter>
		<declaration>clock t;</declaration>
		<location id="id14" x="-170" y="34">
			<name x="-195" y="51">Wait1</name>
		</location>
		<location id="id15" x="25" y="34">
			<name x="-8" y="51">Wait2</name>
		</location>
		<location id="id16" x="195" y="34">
			<name x="161" y="51">VPDetected</name>
			<committed/>
		</location>
		<init ref="id14"/>
		<transition id="id17">
			<source ref="id15"/>
			<target ref="id15"/>
			<label kind="synchronisation" x="34" y="-76">VS?</label>
			<label kind="assignment" x="34" y="-59">t=0</label>
			<nail x="25" y="-42"/>
			<nail x="59" y="-34"/>
		</transition>
		<transition id="id18">
			<source ref="id16"/>
			<target ref="id15"/>
			<label kind="assignment" x="102" y="17">t=0</label>
		</transition>
		<transition id="id19">
			<source ref="id15"/>
			<target ref="id16"/>
			<label kind="synchronisation" x="102" y="85">VP?</label>
			<nail x="110" y="85"/>
		</transition>
		<transition id="id20">
			<source ref="id14"/>
			<target ref="id15"/>
			<label kind="synchronisation" x="-85" y="85">VP?</label>
			<label kind="assignment" x="-85" y="102">t=0</label>
			<nail x="-76" y="85"/>
		</transition>
		<transition id="id21">
			<source ref="id14"/>
			<target ref="id15"/>
			<label kind="synchronisation" x="-85" y="-59">VS?</label>
			<label kind="assignment" x="-85" y="-42">t=0</label>
			<nail x="-76" y="-25"/>
		</transition>
	</template>
	<template>
		<name>AVI_Monitor</name>
		<parameter>broadcast chan &amp;VS, broadcast chan &amp;VP, broadcast chan &amp;AS, broadcast chan &amp;AP</parameter>
		<declaration>clock t;</declaration>
		<location id="id22" x="-297" y="-42">
			<name x="-349" y="-76">Wait1</name>
		</location>
		<location id="id23" x="-85" y="-42">
			<name x="-77" y="-76">Wait2</name>
		</location>
		<location id="id24" x="-196" y="68">
			<name x="-238" y="34">VPDetected</name>
			<committed/>
		</location>
		<location id="id25" x="-187" y="-161">
			<name x="-213" y="-195">VSSensed</name>
			<committed/>
		</location>
		<init ref="id22"/>
		<transition id="id26">
			<source ref="id25"/>
			<target ref="id22"/>
			<label kind="assignment" x="-264" y="-178">t=0</label>
			<nail x="-298" y="-161"/>
		</transition>
		<transition id="id27">
			<source ref="id23"/>
			<target ref="id25"/>
			<label kind="synchronisation" x="-136" y="-178">VS?</label>
			<nail x="-85" y="-161"/>
		</transition>
		<transition id="id28">
			<source ref="id24"/>
			<target ref="id22"/>
			<label kind="assignment" x="-264" y="68">t=0</label>
			<nail x="-297" y="69"/>
		</transition>
		<transition id="id29">
			<source ref="id23"/>
			<target ref="id24"/>
			<label kind="synchronisation" x="-145" y="68">VP?</label>
			<nail x="-85" y="68"/>
		</transition>
		<transition id="id30">
			<source ref="id22"/>
			<target ref="id23"/>
			<label kind="synchronisation" x="-204" y="-109">AS?</label>
			<label kind="assignment" x="-204" y="-92">t=0</label>
			<nail x="-195" y="-75"/>
		</transition>
		<transition id="id31">
			<source ref="id22"/>
			<target ref="id23"/>
			<label kind="synchronisation" x="-204" y="-50">AP?</label>
			<label kind="assignment" x="-204" y="-33">t=0</label>
			<nail x="-195" y="-8"/>
		</transition>
	</template>
	<template>
		<name>AEI_Monitor</name>
		<parameter>broadcast chan &amp;VS, broadcast chan &amp;VP, broadcast chan &amp;AS, broadcast chan &amp;AP</parameter>
		<declaration>clock t;</declaration>
		<location id="id32" x="-509" y="-102">
			<name x="-561" y="-136">Wait1</name>
		</location>
		<location id="id33" x="-297" y="-102">
			<name x="-289" y="-136">Wait2</name>
		</location>
		<location id="id34" x="-408" y="8">
			<name x="-450" y="-25">APDetected</name>
			<committed/>
		</location>
		<location id="id35" x="-399" y="-221">
			<name x="-433" y="-255">ASSensed</name>
			<committed/>
		</location>
		<init ref="id32"/>
		<transition id="id36">
			<source ref="id35"/>
			<target ref="id32"/>
			<label kind="assignment" x="-476" y="-238">t=0</label>
			<nail x="-510" y="-221"/>
		</transition>
		<transition id="id37">
			<source ref="id33"/>
			<target ref="id35"/>
			<label kind="synchronisation" x="-348" y="-238">AS?</label>
			<nail x="-297" y="-221"/>
		</transition>
		<transition id="id38">
			<source ref="id34"/>
			<target ref="id32"/>
			<label kind="assignment" x="-476" y="8">t=0</label>
			<nail x="-509" y="9"/>
		</transition>
		<transition id="id39">
			<source ref="id33"/>
			<target ref="id34"/>
			<label kind="synchronisation" x="-357" y="8">AP?</label>
			<nail x="-297" y="8"/>
		</transition>
		<transition id="id40">
			<source ref="id32"/>
			<target ref="id33"/>
			<label kind="synchronisation" x="-416" y="-169">VS?</label>
			<label kind="assignment" x="-416" y="-152">t=0</label>
			<nail x="-407" y="-135"/>
		</transition>
		<transition id="id41">
			<source ref="id32"/>
			<target ref="id33"/>
			<label kind="synchronisation" x="-416" y="-110">VP?</label>
			<label kind="assignment" x="-416" y="-93">t=0</label>
			<nail x="-407" y="-68"/>
		</transition>
	</template>
	<template>
		<name>VRP_Monitor</name>
		<parameter>broadcast chan &amp;VS, broadcast chan &amp;VP</parameter>
		<declaration>clock t;</declaration>
		<location id="id42" x="-195" y="42">
			<name x="-204" y="9">Wait1</name>
		</location>
		<location id="id43" x="17" y="42">
			<name x="0" y="59">Wait2</name>
		</location>
		<location id="id44" x="178" y="42">
			<name x="144" y="9">VSSensed</name>
			<committed/>
		</location>
		<init ref="id42"/>
		<transition id="id45">
			<source ref="id44"/>
			<target ref="id43"/>
			<label kind="assignment" x="93" y="76">t=0</label>
			<nail x="102" y="76"/>
		</transition>
		<transition id="id46">
			<source ref="id43"/>
			<target ref="id43"/>
			<label kind="synchronisation" x="0" y="-42">VP?</label>
			<label kind="assignment" x="0" y="-25">t=0</label>
			<nail x="-9" y="-8"/>
			<nail x="42" y="-8"/>
		</transition>
		<transition id="id47">
			<source ref="id43"/>
			<target ref="id44"/>
			<label kind="synchronisation" x="85" y="17">VS?</label>
		</transition>
		<transition id="id48">
			<source ref="id42"/>
			<target ref="id43"/>
			<label kind="synchronisation" x="-102" y="-25">VS?</label>
			<label kind="assignment" x="-102" y="-8">t=0</label>
			<nail x="-93" y="9"/>
		</transition>
		<transition id="id49">
			<source ref="id42"/>
			<target ref="id43"/>
			<label kind="synchronisation" x="-102" y="34">VP?</label>
			<label kind="assignment" x="-102" y="51">t=0</label>
			<nail x="-93" y="76"/>
		</transition>
	</template>
	<template>
		<name>PVARP_Monitor</name>
		<parameter>broadcast chan &amp;VS, broadcast chan &amp;VP, broadcast chan &amp;AS, broadcast chan &amp;AP</parameter>
		<declaration>clock t;</declaration>
		<location id="id50" x="-552" y="-357">
			<name x="-612" y="-365">Wait1</name>
		</location>
		<location id="id51" x="-340" y="-357">
			<name x="-357" y="-349">Wait2</name>
		</location>
		<location id="id52" x="-179" y="-357">
			<name x="-212" y="-391">ASSensed</name>
			<committed/>
		</location>
		<init ref="id50"/>
		<transition id="id53">
			<source ref="id51"/>
			<target ref="id50"/>
			<label kind="synchronisation" x="-459" y="-467">AP?</label>
			<label kind="assignment" x="-459" y="-450">t=0</label>
			<nail x="-340" y="-450"/>
			<nail x="-552" y="-450"/>
		</transition>
		<transition id="id54">
			<source ref="id52"/>
			<target ref="id50"/>
			<label kind="assignment" x="-374" y="-280">t=0</label>
			<nail x="-179" y="-255"/>
			<nail x="-552" y="-255"/>
		</transition>
		<transition id="id55">
			<source ref="id51"/>
			<target ref="id52"/>
			<label kind="synchronisation" x="-272" y="-382">AS?</label>
		</transition>
		<transition id="id56">
			<source ref="id50"/>
			<target ref="id51"/>
			<label kind="synchronisation" x="-459" y="-424">VS?</label>
			<label kind="assignment" x="-459" y="-407">t=0</label>
			<nail x="-450" y="-390"/>
		</transition>
		<transition id="id57">
			<source ref="id50"/>
			<target ref="id51"/>
			<label kind="synchronisation" x="-459" y="-365">VP?</label>
			<label kind="assignment" x="-459" y="-348">t=0</label>
			<nail x="-450" y="-323"/>
		</transition>
	</template>
	<template>
		<name x="5" y="5">LRI</name>
		<parameter>broadcast chan &amp;AP, broadcast chan &amp;AS, broadcast chan &amp;VP, broadcast chan &amp;VS</parameter>
		<declaration>clock x;</declaration>
		<location id="id58" x="-153" y="-42">
			<name x="-170" y="-93">LRI</name>
			<label kind="invariant" x="-170" y="-76">x&lt;=TAEI</label>
		</location>
		<location id="id59" x="-297" y="-42">
			<name x="-331" y="-76">ASSensed</name>
		</location>
		<location id="id60" x="-153" y="111">
			<name x="-144" y="119">TimerReset</name>
			<committed/>
		</location>
		<init ref="id58"/>
		<transition id="id61">
			<source ref="id59"/>
			<target ref="id60"/>
			<label kind="synchronisation" x="-305" y="128">VP?</label>
			<nail x="-323" y="-42"/>
			<nail x="-323" y="145"/>
			<nail x="-153" y="145"/>
		</transition>
		<transition id="id62">
			<source ref="id59"/>
			<target ref="id60"/>
			<label kind="synchronisation" x="-279" y="94">VS?</label>
			<nail x="-297" y="111"/>
		</transition>
		<transition id="id63">
			<source ref="id60"/>
			<target ref="id58"/>
			<label kind="assignment" x="-178" y="9">x=0</label>
		</transition>
		<transition id="id64">
			<source ref="id58"/>
			<target ref="id60"/>
			<label kind="synchronisation" x="-221" y="9">VS?</label>
			<nail x="-195" y="17"/>
			<nail x="-195" y="34"/>
		</transition>
		<transition id="id65">
			<source ref="id58"/>
			<target ref="id60"/>
			<label kind="synchronisation" x="-110" y="9">VP?</label>
			<nail x="-110" y="17"/>
			<nail x="-110" y="34"/>
		</transition>
		<transition id="id66">
			<source ref="id58"/>
			<target ref="id59"/>
			<label kind="synchronisation" x="-229" y="-59">AS?</label>
		</transition>
		<transition id="id67">
			<source ref="id58"/>
			<target ref="id60"/>
			<label kind="guard" x="-42" y="17">x&gt;=TAEI</label>
			<label kind="synchronisation" x="-42" y="34">AP!</label>
			<nail x="-51" y="-42"/>
			<nail x="-51" y="111"/>
		</transition>
	</template>
	<template>
		<name>URI</name>
		<parameter>broadcast chan &amp;VP, broadcast chan &amp;VS, broadcast chan &amp;flag</parameter>
		<declaration>clock x;</declaration>
		<location id="id68" x="-8" y="-8">
			<name x="-25" y="8">URI</name>
			<label kind="invariant" x="-34" y="25">x&lt;=TURI</label>
		</location>
		<location id="id69" x="-144" y="-8">
			<name x="-204" y="-17">reset</name>
			<committed/>
		</location>
		<location id="id70" x="170" y="-8">
			<name x="144" y="-42">Expired</name>
		</location>
		<location id="id71" x="170" y="102">
			<name x="145" y="110">VEvent</name>
			<committed/>
		</location>
		<init ref="id68"/>
		<transition id="id72">
			<source ref="id71"/>
			<target ref="id69"/>
			<label kind="assignment" x="-59" y="85">URI_Flag = false</label>
			<nail x="-144" y="102"/>
		</transition>
		<transition id="id73">
			<source ref="id70"/>
			<target ref="id71"/>
			<label kind="synchronisation" x="85" y="34">VS?</label>
			<nail x="110" y="34"/>
			<nail x="110" y="51"/>
		</transition>
		<transition id="id74">
			<source ref="id70"/>
			<target ref="id71"/>
			<label kind="synchronisation" x="144" y="34">VP?</label>
		</transition>
		<transition id="id75">
			<source ref="id68"/>
			<target ref="id70"/>
			<label kind="guard" x="17" y="-59">x&gt;=TURI</label>
			<label kind="synchronisation" x="17" y="-42">flag!</label>
			<label kind="assignment" x="17" y="-25">URI_Flag = true</label>
		</transition>
		<transition id="id76">
			<source ref="id69"/>
			<target ref="id68"/>
			<label kind="assignment" x="-93" y="-25">x=0</label>
		</transition>
		<transition id="id77">
			<source ref="id68"/>
			<target ref="id69"/>
			<label kind="synchronisation" x="-85" y="42">VS?</label>
			<nail x="-17" y="0"/>
			<nail x="-59" y="42"/>
			<nail x="-85" y="42"/>
		</transition>
		<transition id="id78">
			<source ref="id68"/>
			<target ref="id69"/>
			<label kind="synchronisation" x="-85" y="-76">VP?</label>
			<nail x="-59" y="-59"/>
			<nail x="-85" y="-59"/>
		</transition>
	</template>
	<template>
		<name>AVI</name>
		<parameter>broadcast chan &amp;VP, broadcast chan &amp;VS, broadcast chan &amp;AS, broadcast chan &amp;AP, broadcast chan &amp;flag</parameter>
		<declaration>clock x;</declaration>
		<location id="id79" x="0" y="0">
			<name x="25" y="-25">IDLE</name>
		</location>
		<location id="id80" x="0" y="119">
			<name x="17" y="119">AVI</name>
			<label kind="invariant" x="17" y="136">x&lt;=TAVI</label>
		</location>
		<location id="id81" x="0" y="-110">
			<name x="-17" y="-144">Pace</name>
			<committed/>
		</location>
		<location id="id82" x="178" y="-110">
			<name x="195" y="-118">WaitURI</name>
		</location>
		<init ref="id79"/>
		<transition id="id83">
			<source ref="id82"/>
			<target ref="id79"/>
			<label kind="synchronisation" x="68" y="-76">VS?</label>
		</transition>
		<transition id="id84">
			<source ref="id82"/>
			<target ref="id81"/>
			<label kind="synchronisation" x="59" y="-136">flag?</label>
		</transition>
		<transition id="id85">
			<source ref="id80"/>
			<target ref="id79"/>
			<label kind="guard" x="-255" y="119">x&gt;=TAVI &amp;&amp; URI_Flag == true</label>
			<label kind="synchronisation" x="-144" y="102">VP!</label>
			<nail x="-110" y="119"/>
			<nail x="-110" y="0"/>
		</transition>
		<transition id="id86">
			<source ref="id81"/>
			<target ref="id79"/>
			<label kind="guard" x="-136" y="-68">URI_Flag == true</label>
			<label kind="synchronisation" x="-34" y="-85">VP!</label>
			<nail x="0" y="-68"/>
		</transition>
		<transition id="id87">
			<source ref="id80"/>
			<target ref="id82"/>
			<label kind="guard" x="0" y="187">x&gt;=TAVI &amp;&amp; URI_Flag == false</label>
			<nail x="0" y="187"/>
			<nail x="178" y="187"/>
		</transition>
		<transition id="id88">
			<source ref="id80"/>
			<target ref="id79"/>
			<label kind="synchronisation" x="136" y="42">VS?</label>
			<nail x="127" y="119"/>
			<nail x="127" y="0"/>
		</transition>
		<transition id="id89">
			<source ref="id79"/>
			<target ref="id80"/>
			<label kind="synchronisation" x="51" y="42">AS?</label>
			<label kind="assignment" x="51" y="59">x=0</label>
			<nail x="51" y="59"/>
		</transition>
		<transition id="id90">
			<source ref="id79"/>
			<target ref="id80"/>
			<label kind="synchronisation" x="-76" y="42">AP?</label>
			<label kind="assignment" x="-76" y="59">x=0</label>
			<nail x="-51" y="59"/>
		</transition>
	</template>
	<template>
		<name>VRP</name>
		<parameter>broadcast chan &amp;VS, broadcast chan &amp;VSense, broadcast chan &amp;VP</parameter>
		<declaration>clock x;</declaration>
		<location id="id91" x="-238" y="-34">
			<name x="-248" y="-68">IDLE</name>
		</location>
		<location id="id92" x="68" y="-34">
			<name x="58" y="-68">VRP</name>
			<label kind="invariant" x="59" y="-85">x&lt;=TVRP</label>
		</location>
		<location id="id93" x="-85" y="-34">
			<name x="-119" y="-68">VSSensed</name>
			<committed/>
		</location>
		<init ref="id91"/>
		<transition id="id94">
			<source ref="id93"/>
			<target ref="id92"/>
			<label kind="synchronisation" x="-42" y="-51">VS!</label>
			<label kind="assignment" x="-42" y="-34">x=0</label>
		</transition>
		<transition id="id95">
			<source ref="id91"/>
			<target ref="id93"/>
			<label kind="synchronisation" x="-187" y="-51">VSense?</label>
		</transition>
		<transition id="id96">
			<source ref="id92"/>
			<target ref="id91"/>
			<label kind="guard" x="-119" y="-144">x&gt;=TVRP</label>
			<nail x="-85" y="-127"/>
		</transition>
		<transition id="id97">
			<source ref="id91"/>
			<target ref="id92"/>
			<label kind="synchronisation" x="-102" y="42">VP?</label>
			<label kind="assignment" x="-102" y="59">x=0</label>
			<nail x="-85" y="42"/>
		</transition>
	</template>
	<template>
		<name>PVARP</name>
		<parameter>broadcast chan &amp;AS, broadcast chan &amp;ASense, broadcast chan &amp;VS, broadcast chan &amp;VP</parameter>
		<declaration>clock x;</declaration>
		<location id="id98" x="-51" y="17">
			<name x="-68" y="34">IDLE</name>
		</location>
		<location id="id99" x="-170" y="17">
			<name x="-255" y="8">ASSensed</name>
			<committed/>
		</location>
		<location id="id100" x="68" y="17">
			<name x="51" y="34">PVARP</name>
			<label kind="invariant" x="52" y="51">x&lt;=TPVARP</label>
		</location>
		<init ref="id98"/>
		<transition id="id101">
			<source ref="id100"/>
			<target ref="id98"/>
			<label kind="guard" x="-34" y="-102">x&gt;=TPVARP</label>
			<nail x="68" y="-76"/>
			<nail x="-51" y="-75"/>
		</transition>
		<transition id="id102">
			<source ref="id98"/>
			<target ref="id100"/>
			<label kind="synchronisation" x="-9" y="60">VP?</label>
			<label kind="assignment" x="-9" y="77">x=0</label>
			<nail x="8" y="60"/>
		</transition>
		<transition id="id103">
			<source ref="id98"/>
			<target ref="id100"/>
			<label kind="synchronisation" x="-8" y="-59">VS?</label>
			<label kind="assignment" x="-9" y="-42">x=0</label>
			<nail x="8" y="-25"/>
		</transition>
		<transition id="id104">
			<source ref="id99"/>
			<target ref="id98"/>
			<label kind="synchronisation" x="-119" y="-42">AS!</label>
			<nail x="-111" y="-25"/>
		</transition>
		<transition id="id105">
			<source ref="id98"/>
			<target ref="id99"/>
			<label kind="synchronisation" x="-136" y="60">ASense?</label>
			<nail x="-111" y="60"/>
		</transition>
	</template>
	<system>// Declaration goes here.
broadcast chan VSense, ASense, VS, AS, VP, AP, flag;

// Place template instantiations here.
// random heart models
Random_Ventricle = RV(VSense, VP);
Random_Atria = RA(ASense, AP);

// ddd timing controllers
Con_LRI = LRI(AP, AS, VP, VS);
Con_VRP = VRP(VS, VSense, VP);
Con_AVI = AVI(VP, VS, AS, AP, flag);
Con_URI = URI(VP, VS, flag);
Con_PVARP = PVARP(AS, ASense, VS, VP);
// Con_AEI = AEI();     // out: AP;   in: AS, AP, VS, VP;

// Monitors for ddd timing verification
Monitor_LRI = LRI_Monitor(VS, VP);
Monitor_URI = URI_Monitor(VS, VP);
Monitor_AVI = AVI_Monitor(VS, VP, AS, AP);
Monitor_AEI = AEI_Monitor(VS, VP, AS, AP);
Monitor_VRP = VRP_Monitor(VS, VP);
Monitor_PVARP = PVARP_Monitor(VS, VP, AS, AP);

// List one or more processes to be composed into a system.
system Random_Ventricle, Random_Atria, Con_LRI, Con_VRP, Con_AVI, Con_URI, Con_PVARP, Monitor_LRI, Monitor_URI, Monitor_AVI, Monitor_AEI, Monitor_VRP, Monitor_PVARP;
</system>
	<queries>
		<query>
			<formula>E&lt;&gt; (Monitor_AVI.VPDetected imply Monitor_LRI.t &gt; TAVI)</formula>
			<comment>8. The pacemaker can deliver a pacing pulse (VP), where the time interval between this VP and its preceding atrial event is greater than AVI.</comment>
			<result outcome="success" type="quality" timestamp="2024-08-27 19:49:57 +1200">
			</result>
		</query>
		<query>
			<formula>A[] (Monitor_LRI.VDetected imply Monitor_LRI.t &lt;= TLRI)</formula>
			<comment>7. The time interval between two consecutive ventricular events is always less or equal to LRI.</comment>
			<option key="--diagnostic" value="0"/>
			<result outcome="success" type="quality" timestamp="2024-08-27 19:49:57 +1200">
				<option key="--diagnostic" value="0"/>
			</result>
		</query>
		<query>
			<formula>A[] (Monitor_URI.VPDetected imply Monitor_URI.t &gt;= TURI)</formula>
			<comment>6. The pacemaker never delivers a pacing pulse (VP) within URI.</comment>
			<result outcome="success" type="quality" timestamp="2024-08-27 19:49:57 +1200">
			</result>
		</query>
		<query>
			<formula>A[] (Monitor_AVI.VPDetected imply Monitor_AVI.t &gt;= TAVI)</formula>
			<comment>5. The pacemaker never delivers a pacing pulse (VP) within AVI.</comment>
			<result outcome="success" type="quality" timestamp="2024-08-27 19:49:57 +1200">
			</result>
		</query>
		<query>
			<formula>A[] (Monitor_AEI.APDetected imply Monitor_AEI.t &gt;= TAEI)</formula>
			<comment>4. The pacemaker never delivers a pacing pulse (AP) within AEI.</comment>
			<result outcome="success" type="quality" timestamp="2024-08-27 19:49:57 +1200">
			</result>
		</query>
		<query>
			<formula>A[] (Monitor_PVARP.ASSensed imply Monitor_PVARP.t &gt;= TPVARP)</formula>
			<comment>3. An atrial sense (AS) cannot be generated within PVARP.</comment>
			<result outcome="success" type="quality" timestamp="2024-08-27 19:49:57 +1200">
			</result>
		</query>
		<query>
			<formula>A[] (Monitor_VRP.VSSensed imply Monitor_VRP.t &gt;= TVRP)
			</formula>
			<comment>2. A ventricular sense (VS) cannot be generated within VRP.</comment>
			<result outcome="success" type="quality" timestamp="2024-08-27 19:49:57 +1200">
			</result>
		</query>
		<query>
			<formula>A[] not deadlock
			</formula>
			<comment>1. The system is deadlock free.</comment>
			<option key="--diagnostic" value="0"/>
			<result outcome="success" type="quality" timestamp="2024-08-27 19:49:57 +1200">
				<option key="--diagnostic" value="0"/>
			</result>
		</query>
		<query>
			<formula/>
			<comment/>
		</query>
	</queries>
</nta>
